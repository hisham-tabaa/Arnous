# ๐ฆ Arnous Exchange Server - MongoDB Edition

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ูู ุงูุฎุงุฏู ุงููุญุณู ูู Arnous Exchange ูุน ูุงุนุฏุฉ ุจูุงูุงุช MongoDB ุญููููุฉ. ุชู ุชุทููุฑ ุงููุธุงู ููููู ุฌุงูุฒุงู ููุงุณุชุถุงูุฉ ุงูุญููููุฉ ูุน ููุฒุงุช ุฃูุงู ูุชูุฏูุฉ ูุชุชุจุน ุดุงูู ูููุดุงุทุงุช.

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ูุธุงู ูุตุงุฏูุฉ ูุญุณู
- **JWT Tokens**: ูุตุงุฏูุฉ ุขููุฉ ูุน ุงูุชูุงุก ุตูุงุญูุฉ
- **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**: ุฃุฏูุงุฑ ูุตูุงุญูุงุช ูุชุนุฏุฏุฉ
- **ุญูุงูุฉ ูู ุงููุฌูุงุช**: ููู ุงูุญุณุงุจุงุช ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ
- **ุชุชุจุน ุงููุดุงุทุงุช**: ุณุฌู ุดุงูู ูุฌููุน ุงูุนูููุงุช

### ๐๏ธ ูุงุนุฏุฉ ุจูุงูุงุช MongoDB
- **ููุงุฐุฌ ููุธูุฉ**: Currency, User, ActivityLog
- **ุนูุงูุงุช ุฐููุฉ**: ุฑุจุท ุงููุณุชุฎุฏููู ุจุงููุดุงุทุงุช
- **ุชุงุฑูุฎ ุงูุชุญุฏูุซุงุช**: ุชุชุจุน ุฌููุน ุงูุชุบููุฑุงุช
- **ุงุณุชุนูุงูุงุช ูุชูุฏูุฉ**: ุจุญุซ ูุชุตููุฉ ูุฅุญุตุงุฆูุงุช

### ๐ ุชุชุจุน ุงููุดุงุทุงุช
- **ุณุฌู ุดุงูู**: ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ
- **ุฅุญุตุงุฆูุงุช**: ุชุญููู ุงูุฃุฏุงุก ูุงููุดุงุท
- **ูุฑุงูุจุฉ ุงูุฃูุงู**: ุชุชุจุน ูุญุงููุงุช ุงูุงุฎุชุฑุงู
- **ุชูุงุฑูุฑ**: ุจูุงูุงุช ููุตูุฉ ูููุฏูุฑูู

### ๐ ุฃุฏุงุก ูุญุณู
- **Rate Limiting**: ุญูุงูุฉ ูู ุงูุทูุจุงุช ุงูููุฑุทุฉ
- **Validation**: ูุญุต ุดุงูู ููุจูุงูุงุช
- **Error Handling**: ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
- **Real-time Updates**: ุชุญุฏูุซุงุช ููุฑูุฉ ุนุจุฑ Socket.io

## ๐๏ธ ุงููุชุทูุจุงุช

- **Node.js**: ุงูุฅุตุฏุงุฑ 16 ุฃู ุฃุญุฏุซ
- **MongoDB**: ุงูุฅุตุฏุงุฑ 5.0 ุฃู ุฃุญุฏุซ
- **npm**: ูุฅุฏุงุฑุฉ ุงูุชุจุนูุงุช

## ๐ฆ ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงูุชุจุนูุงุช
```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ูุณุฎ ููู ุงูุจูุฆุฉ
copy env-example.txt .env

# ุชุนุฏูู ููู .env ุจุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### 3. ุฅุนุฏุงุฏ MongoDB
```bash
# ุจุฏุก MongoDB (Windows)
net start MongoDB

# ุฃู ุชุซุจูุช MongoDB Atlas ููุงุณุชุถุงูุฉ ุงูุณุญุงุจูุฉ
```

### 4. ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
npm run db:init
```

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### ููู .env
```env
# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/arnous_exchange
MONGODB_URI_PROD=mongodb+srv://username:password@cluster.mongodb.net/arnous_exchange

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# Admin Credentials
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
```

## ๐ ุงูุชุดุบูู

### ูุถุน ุงูุชุทููุฑ
```bash
npm run dev
```

### ูุถุน ุงูุฅูุชุงุฌ
```bash
npm start
```

### ุฅุนุงุฏุฉ ุชุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
npm run db:reset
```

## ๐ ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Currency Model
```javascript
{
  code: "USD",           // ุฑูุฒ ุงูุนููุฉ
  name: "US Dollar",     // ุงุณู ุงูุนููุฉ
  buyRate: 15000,        // ุณุนุฑ ุงูุดุฑุงุก
  sellRate: 15100,       // ุณุนุฑ ุงูุจูุน
  isActive: true,        // ุญุงูุฉ ุงูุนููุฉ
  lastUpdated: Date,     // ุขุฎุฑ ุชุญุฏูุซ
  updateHistory: [],     // ุชุงุฑูุฎ ุงูุชุญุฏูุซุงุช
  createdBy: "admin"     // ููุดุฆ ุงูุนููุฉ
}
```

### User Model
```javascript
{
  username: "admin",     // ุงุณู ุงููุณุชุฎุฏู
  email: "admin@arnous.com", // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  password: "hashed",    // ูููุฉ ุงููุฑูุฑ ูุดูุฑุฉ
  role: "admin",         // ุงูุฏูุฑ
  permissions: [],       // ุงูุตูุงุญูุงุช
  isActive: true,        // ุญุงูุฉ ุงูุญุณุงุจ
  lastLogin: Date,       // ุขุฎุฑ ุชุณุฌูู ุฏุฎูู
  profile: {}            // ูุนูููุงุช ุงูููู ุงูุดุฎุตู
}
```

### ActivityLog Model
```javascript
{
  user: "userId",        // ุงููุณุชุฎุฏู
  action: "login",       // ููุน ุงูุนูููุฉ
  resource: "auth",      // ุงูููุฑุฏ
  details: {},           // ุชูุงุตูู ุงูุนูููุฉ
  ipAddress: "127.0.0.1", // ุนููุงู IP
  status: "success",     // ุญุงูุฉ ุงูุนูููุฉ
  timestamp: Date        // ุงูุชูููุช
}
```

## ๐ API Endpoints

### ุงููุตุงุฏูุฉ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `POST /api/auth/logout` - ุชุณุฌูู ุงูุฎุฑูุฌ
- `POST /api/auth/refresh` - ุชุฌุฏูุฏ ุงูุชููู
- `POST /api/auth/change-password` - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

### ุงูุนููุงุช
- `GET /api/currencies` - ุฌูุจ ุฌููุน ุงูุนููุงุช
- `GET /api/currencies/:code` - ุฌูุจ ุนููุฉ ูุญุฏุฏุฉ
- `POST /api/currencies` - ุชุญุฏูุซ ุฃุณุนุงุฑ ุงูุนููุงุช
- `POST /api/currencies/create` - ุฅูุดุงุก ุนููุฉ ุฌุฏูุฏุฉ
- `DELETE /api/currencies/:code` - ุญุฐู ุนููุฉ
- `GET /api/currencies/:code/history` - ุชุงุฑูุฎ ุงูุนููุฉ
- `GET /api/currencies/stats/overview` - ุฅุญุตุงุฆูุงุช ุนุงูุฉ
- `GET /api/currencies/search` - ุงูุจุญุซ ูู ุงูุนููุงุช

### ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู
- `POST /api/generate-message` - ุฅูุดุงุก ุฑุณุงูุฉ
- `POST /api/publish/facebook` - ูุดุฑ ุนูู Facebook
- `POST /api/publish/instagram` - ูุดุฑ ุนูู Instagram
- `POST /api/publish/telegram` - ูุดุฑ ุนูู Telegram
- `POST /api/publish/whatsapp` - ูุดุฑ ุนูู WhatsApp

### ุงููุดุงุทุงุช ูุงูุฅุญุตุงุฆูุงุช
- `GET /api/activity/logs` - ุณุฌู ุงููุดุงุทุงุช
- `GET /api/activity/stats` - ุฅุญุตุงุฆูุงุช ุงููุดุงุทุงุช

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- `GET /api/users/profile` - ุงูููู ุงูุดุฎุตู
- `PUT /api/users/profile` - ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู

## ๐ ุงูุฃูุงู

### ุงููุตุงุฏูุฉ
- **JWT Tokens**: ุชูููุงุช ุขููุฉ ูุน ุงูุชูุงุก ุตูุงุญูุฉ
- **Password Hashing**: ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจู bcrypt
- **Rate Limiting**: ุญูุงูุฉ ูู ุงูุทูุจุงุช ุงูููุฑุทุฉ
- **Account Locking**: ููู ุงูุญุณุงุจุงุช ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ

### ุงูุตูุงุญูุงุช
- **Role-based Access**: ุฃุฏูุงุฑ ูุฎุชููุฉ (admin, user, moderator)
- **Permission System**: ุตูุงุญูุงุช ูุญุฏุฏุฉ ููู ุนูููุฉ
- **Resource Protection**: ุญูุงูุฉ ุงูููุงุฑุฏ ุญุณุจ ุงูุตูุงุญูุงุช

### ุงููุฑุงูุจุฉ
- **Activity Logging**: ุชุณุฌูู ุฌููุน ุงูุนูููุงุช
- **Security Monitoring**: ูุฑุงูุจุฉ ูุญุงููุงุช ุงูุงุฎุชุฑุงู
- **Audit Trail**: ูุณุงุฑ ุชุฏููู ุดุงูู

## ๐ ุงูุฃุฏุงุก

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Indexing**: ููุงุฑุณ ูุญุณูุฉ ููุงุณุชุนูุงูุงุช ุงูุณุฑูุนุฉ
- **Connection Pooling**: ุชุฌููุน ุงูุงุชุตุงูุงุช
- **Query Optimization**: ุชุญุณูู ุงูุงุณุชุนูุงูุงุช

### ุงูุชุฎุฒูู ุงููุคูุช
- **Memory Caching**: ุชุฎุฒูู ูุคูุช ูู ุงูุฐุงูุฑุฉ
- **Response Caching**: ุชุฎุฒูู ูุคูุช ููุงุณุชุฌุงุจุงุช
- **Database Caching**: ุชุฎุฒูู ูุคูุช ููุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ุงููุดุฑ ููุฅูุชุงุฌ

### 1. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ
```bash
NODE_ENV=production
MONGODB_URI_PROD=your_production_mongodb_uri
JWT_SECRET=your_production_jwt_secret
```

### 2. ุจูุงุก ุงูุชุทุจูู
```bash
npm run build
```

### 3. ุชุดุบูู ุงูุฎุงุฏู
```bash
npm start
```

### 4. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
```bash
# ูุฑุงูุจุฉ ุงูุณุฌูุงุช
tail -f logs/app.log

# ูุฑุงูุจุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
mongo --eval "db.stats()"
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ูุญุต ุญุงูุฉ MongoDB
mongo --eval "db.runCommand('ping')"

# ูุญุต ุงูุงุชุตุงู
npm run db:init
```

### ูุดุงูู ุงููุตุงุฏูุฉ
```bash
# ูุญุต ุงูุชููู
curl -H "Authorization: Bearer YOUR_TOKEN" /api/health

# ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
npm run db:reset
```

### ูุดุงูู ุงูุฃุฏุงุก
```bash
# ูุญุต ุงูุณุฌูุงุช
tail -f logs/error.log

# ูุฑุงูุจุฉ ุงูุฐุงูุฑุฉ
node --inspect index.js
```

## ๐ ุงูููุงุฑุฏ ุงูุฅุถุงููุฉ

- [MongoDB Documentation](https://docs.mongodb.com/)
- [Mongoose Documentation](https://mongoosejs.com/docs/)
- [JWT Documentation](https://jwt.io/)
- [Socket.io Documentation](https://socket.io/docs/)

## ๐ค ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ูููุฑุน
5. ุฅูุดุงุก Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT.

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ูุงูุฏุนูุ ูุฑุฌู ุงูุชูุงุตู ุนุจุฑ:
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@arnous.com
- ๐ฌ Telegram: @arnous_support
- ๐ฑ WhatsApp: +963-XXX-XXX-XXX
